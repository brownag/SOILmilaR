[{"path":[]},{"path":"http://humus.rocks/SOILmilaR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"CC0 1.0 Universal","title":"CC0 1.0 Universal","text":"CREATIVE COMMONS CORPORATION LAW FIRM PROVIDE LEGAL SERVICES. DISTRIBUTION DOCUMENT CREATE ATTORNEY-CLIENT RELATIONSHIP. CREATIVE COMMONS PROVIDES INFORMATION “-” BASIS. CREATIVE COMMONS MAKES WARRANTIES REGARDING USE DOCUMENT INFORMATION WORKS PROVIDED HEREUNDER, DISCLAIMS LIABILITY DAMAGES RESULTING USE DOCUMENT INFORMATION WORKS PROVIDED HEREUNDER.","code":""},{"path":"http://humus.rocks/SOILmilaR/LICENSE.html","id":"statement-of-purpose","dir":"","previous_headings":"","what":"Statement of Purpose","title":"CC0 1.0 Universal","text":"laws jurisdictions throughout world automatically confer exclusive Copyright Related Rights (defined ) upon creator subsequent owner(s) (, “owner”) original work authorship /database (, “Work”). Certain owners wish permanently relinquish rights Work purpose contributing commons creative, cultural scientific works (“Commons”) public can reliably without fear later claims infringement build upon, modify, incorporate works, reuse redistribute freely possible form whatsoever purposes, including without limitation commercial purposes. owners may contribute Commons promote ideal free culture production creative, cultural scientific works, gain reputation greater distribution Work part use efforts others. /purposes motivations, without expectation additional consideration compensation, person associating CC0 Work (“Affirmer”), extent owner Copyright Related Rights Work, voluntarily elects apply CC0 Work publicly distribute Work terms, knowledge Copyright Related Rights Work meaning intended legal effect CC0 rights. Copyright Related Rights. Work made available CC0 may protected copyright related neighboring rights (“Copyright Related Rights”). Copyright Related Rights include, limited , following: right reproduce, adapt, distribute, perform, display, communicate, translate Work; moral rights retained original author(s) /performer(s); publicity privacy rights pertaining person’s image likeness depicted Work; rights protecting unfair competition regards Work, subject limitations paragraph 4(), ; rights protecting extraction, dissemination, use reuse data Work; database rights (arising Directive 96/9/EC European Parliament Council 11 March 1996 legal protection databases, national implementation thereof, including amended successor version directive); similar, equivalent corresponding rights throughout world based applicable law treaty, national implementations thereof. Waiver. greatest extent permitted , contravention , applicable law, Affirmer hereby overtly, fully, permanently, irrevocably unconditionally waives, abandons, surrenders Affirmer’s Copyright Related Rights associated claims causes action, whether now known unknown (including existing well future claims causes action), Work () territories worldwide, (ii) maximum duration provided applicable law treaty (including future time extensions), (iii) current future medium number copies, (iv) purpose whatsoever, including without limitation commercial, advertising promotional purposes (“Waiver”). Affirmer makes Waiver benefit member public large detriment Affirmer’s heirs successors, fully intending Waiver shall subject revocation, rescission, cancellation, termination, legal equitable action disrupt quiet enjoyment Work public contemplated Affirmer’s express Statement Purpose. Public License Fallback. part Waiver reason judged legally invalid ineffective applicable law, Waiver shall preserved maximum extent permitted taking account Affirmer’s express Statement Purpose. addition, extent Waiver judged Affirmer hereby grants affected person royalty-free, non transferable, non sublicensable, non exclusive, irrevocable unconditional license exercise Affirmer’s Copyright Related Rights Work () territories worldwide, (ii) maximum duration provided applicable law treaty (including future time extensions), (iii) current future medium number copies, (iv) purpose whatsoever, including without limitation commercial, advertising promotional purposes (“License”). License shall deemed effective date CC0 applied Affirmer Work. part License reason judged legally invalid ineffective applicable law, partial invalidity ineffectiveness shall invalidate remainder License, case Affirmer hereby affirms () exercise remaining Copyright Related Rights Work (ii) assert associated claims causes action respect Work, either case contrary Affirmer’s express Statement Purpose. Limitations Disclaimers. trademark patent rights held Affirmer waived, abandoned, surrendered, licensed otherwise affected document. Affirmer offers Work -makes representations warranties kind concerning Work, express, implied, statutory otherwise, including without limitation warranties title, merchantability, fitness particular purpose, non infringement, absence latent defects, accuracy, present absence errors, whether discoverable, greatest extent permissible applicable law. Affirmer disclaims responsibility clearing rights persons may apply Work use thereof, including without limitation person’s Copyright Related Rights Work. , Affirmer disclaims responsibility obtaining necessary consents, permissions rights required use Work. Affirmer understands acknowledges Creative Commons party document duty obligation respect CC0 use Work.","code":""},{"path":"http://humus.rocks/SOILmilaR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Andrew Brown. Maintainer.","code":""},{"path":"http://humus.rocks/SOILmilaR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Brown (2024). SOILmilaR: Apply Similar Soils Contrasts. R package version 0.0.2, http://humus.rocks/SOILmilaR/, http://github.com/brownag/SOILmilaR.","code":"@Manual{,   title = {SOILmilaR: Apply Similar Soils Contrasts},   author = {Andrew Brown},   year = {2024},   note = {R package version 0.0.2, http://humus.rocks/SOILmilaR/},   url = {http://github.com/brownag/SOILmilaR}, }"},{"path":"http://humus.rocks/SOILmilaR/index.html","id":"soilmilar","dir":"","previous_headings":"","what":"Apply Similar Soils Contrasts","title":"Apply Similar Soils Contrasts","text":"goal {SOILmilaR} provide methods applying standardized, customizable “similar soils” rules site-level data derived various sources.","code":""},{"path":"http://humus.rocks/SOILmilaR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Apply Similar Soils Contrasts","text":"can install development version SOILmilaR GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"brownag/SOILmilaR\")"},{"path":"http://humus.rocks/SOILmilaR/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Apply Similar Soils Contrasts","text":"basic example shows solve common problem:","code":"library(SOILmilaR) set.seed(456)  x <- do.call('rbind', lapply(1:3, \\(i) data.frame(id = paste0(LETTERS[1:10], i),   taxpartsize = c(\"fine-loamy\", \"loamy\", \"fine-loamy\", \"fine-loamy\",                   \"coarse-loamy\", \"coarse-loamy\", \"coarse-loamy\", \"loamy-skeletal\",                   \"loamy-skeletal\", \"loamy-skeletal\"),   depth = runif(10, 35, 150),   pscs_clay = c(runif(4, 18, 35), runif(6, 14, 18)),   pscs_frags = c(runif(3, 0, 15), runif(4, 10, 34),                  runif(3, 35, 60) + c(0, 40, 0)))))  rate_taxpartsize <- function(x) {   # TODO: this is just made up logic for this example and needs to be updated   dplyr::case_match(x,                     c(\"sandy-skeletal\") ~ 1,                     c(\"sandy\") ~ 2,                     c(\"loamy\", \"coarse-loamy\", \"coarse-silty\") ~ 3,                     c(\"fine-loamy\", \"fine-silty\") ~ 4,                     c(\"clayey\", \"fine\") ~ 5,                     c(\"very-fine\") ~ 6,                     c(\"loamy-skeletal\", \"clayey-skeletal\") ~ 7) }  rate_depthclass <- function(x,                             breaks = c(                               `very shallow` = 25,                               `shallow` = 50,                               `moderately deep` = 100,                               `deep` = 150,                               `very deep` = 1e4                             ),                             ...) {   res <- cut(x, c(0, breaks))   factor(res, levels = levels(res), labels = names(breaks), ordered = TRUE) }  rate_pscs_clay <- function(x, breaks = c(18, 27, 40, 60, 100)) {   res <- cut(x, c(0, breaks))   factor(res, levels = levels(res), ordered = TRUE) }  m <- list(taxpartsize = rate_taxpartsize,           depth = rate_depthclass,           pscs_clay = rate_pscs_clay)  s <- similar_soils(x, m) #> comparing to dominant reference condition (`7.3.1` on 6 rows) head(s) #>   id taxpartsize depth pscs_clay similar_dist similar #> 1 A1           4     2         2            5   FALSE #> 2 B1           3     3         2            5   FALSE #> 3 C1           4     4         3            6   FALSE #> 4 D1           4     4         3            6   FALSE #> 5 E1           3     4         1            5   FALSE #> 6 F1           3     3         1            4   FALSE  # inspect distances using agglomerative clustering+dendrogram d <- cluster::agnes(s[, 5, drop = FALSE], method = \"gaverage\") d$height <- d$height + 0.2 # fudge factor for 0-distance plot(stats::as.dendrogram(d), center = TRUE, type = \"triangle\") # allow relative contrast ratings to be negative # (i.e. ordinal factors, concept of \"limiting\") # absolute value is still used for \"similar\" threshold s2 <- similar_soils(x, m, absolute = FALSE) #> comparing to dominant reference condition (`7.3.1` on 6 rows)  # inspect distances unsing agglomerative clustering+dendrogram d2 <- cluster::agnes(s2[, 5, drop = FALSE], method = \"gaverage\") d2$height <- d2$height + 0.2 # fudge factor for 0-distance  plot(stats::as.dendrogram(d2), center = TRUE, type = \"triangle\")"},{"path":"http://humus.rocks/SOILmilaR/reference/SOILmilaR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"SOILmilaR: Apply Similar Soils Contrasts — SOILmilaR-package","title":"SOILmilaR: Apply Similar Soils Contrasts — SOILmilaR-package","text":"Provides methods applying standardized, customizable \"similar soils\" rules site-level data derived various sources.","code":""},{"path":[]},{"path":"http://humus.rocks/SOILmilaR/reference/greekletters.html","id":null,"dir":"Reference","previous_headings":"","what":"Table of Greek Letters in upper and lowercase, and ASCII equivalent — greekletters","title":"Table of Greek Letters in upper and lowercase, and ASCII equivalent — greekletters","text":"data.frame containing name, upper case, lowercase (unicode) characters, along ASCII equivalents.","code":""},{"path":"http://humus.rocks/SOILmilaR/reference/greekletters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Table of Greek Letters in upper and lowercase, and ASCII equivalent — greekletters","text":"","code":"data(greekletters)"},{"path":"http://humus.rocks/SOILmilaR/reference/greekletters.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Table of Greek Letters in upper and lowercase, and ASCII equivalent — greekletters","text":"object class data.frame 24 rows 4 columns.","code":""},{"path":"http://humus.rocks/SOILmilaR/reference/similar_soils.html","id":null,"dir":"Reference","previous_headings":"","what":"Similar Soil Contrasts — similar_soils","title":"Similar Soil Contrasts — similar_soils","text":"method applying standardized, customizable \"similar soils\" rules site-level data derived various sources.","code":""},{"path":"http://humus.rocks/SOILmilaR/reference/similar_soils.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Similar Soil Contrasts — similar_soils","text":"","code":"similar_soils(   x,   mapping,   condition = NULL,   idname = \"id\",   thresh = 1L,   absolute = TRUE,   verbose = TRUE )"},{"path":"http://humus.rocks/SOILmilaR/reference/similar_soils.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Similar Soil Contrasts — similar_soils","text":"x data.frame SoilProfileCollection mapping named list functions. List element names refer site-level data columns x. specified function provides conversion data element x value used \"similar soils\" calculation. condition integer character. Default: NULL value calculated internally based dominant condition intersection mapping results x. may specify integer row ID x specific similar soil contrasts, can specify character dominant condition equivalent name assigned interaction() e.g. \"4.3\" two rating mapping result first rating value 4 second value 3 idname ID column name, default \"id\" thresh Sum differences relative dominant condition x. Default 1. See details discussion default calculation similarity. absolute logical. Report absolute difference? Default: TRUE. Absolute difference always used comparison thresh. verbose Default: TRUE message selected condition","code":""},{"path":"http://humus.rocks/SOILmilaR/reference/similar_soils.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Similar Soil Contrasts — similar_soils","text":"data.frame containing inputs two new columns: similar_dist (cumulative sum differences relative dominant condition), similar (logical)","code":""},{"path":"http://humus.rocks/SOILmilaR/reference/similar_soils.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Similar Soil Contrasts — similar_soils","text":"sum differences across conditions (specified intersection output functions mapping) used \"distance\" soil relative dominant (otherwise specified) condition. threshold value used decide \"similar\" . functions mapping can customized use alternate thresholds.","code":""},{"path":"http://humus.rocks/SOILmilaR/reference/similar_soils.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Similar Soil Contrasts — similar_soils","text":"","code":"set.seed(456)  x <- do.call('rbind', lapply(1:3, \\(i) data.frame(id = paste0(LETTERS[1:10], i),   taxpartsize = c(\"fine-loamy\", \"loamy\", \"fine-loamy\", \"fine-loamy\",                   \"coarse-loamy\", \"coarse-loamy\", \"coarse-loamy\", \"loamy-skeletal\",                   \"loamy-skeletal\", \"loamy-skeletal\"),   depth = runif(10, 35, 150),   pscs_clay = c(runif(4, 18, 35), runif(6, 14, 18)),   pscs_frags = c(runif(3, 0, 15), runif(4, 10, 34),                  runif(3, 35, 60) + c(0, 40, 0)))))  rate_taxpartsize <- function(x) {   # TODO: this is just made up logic for this example and needs to be updated   dplyr::case_match(x,                     c(\"sandy-skeletal\") ~ 1,                     c(\"sandy\") ~ 2,                     c(\"loamy\", \"coarse-loamy\", \"coarse-silty\") ~ 3,                     c(\"fine-loamy\", \"fine-silty\") ~ 4,                     c(\"clayey\", \"fine\") ~ 5,                     c(\"very-fine\") ~ 6,                     c(\"loamy-skeletal\", \"clayey-skeletal\") ~ 7) }  rate_depthclass <- function(x,                             breaks = c(                               `very shallow` = 25,                               `shallow` = 50,                               `moderately deep` = 100,                               `deep` = 150,                               `very deep` = 1e4                             ),                             pattern = \"R|Cr|Cd|kk|m\",                             hzdesgn = aqp::guessHzDesgnName(x, required = TRUE),                             ...) {   res <- cut(x, c(0, breaks))   factor(res, levels = levels(res), labels = names(breaks), ordered = TRUE) }  rate_pscs_clay <- function(x,                            breaks = c(18, 27, 40, 60, 100)) {   res <- cut(x, c(0, breaks))   factor(res, levels = levels(res), ordered = TRUE) }  m <- list(taxpartsize = rate_taxpartsize,           depth = rate_depthclass,           pscs_clay = rate_pscs_clay)  s <- similar_soils(x, m) #> comparing to dominant reference condition (`7.3.1` on 6 rows) head(s) #>   id taxpartsize depth pscs_clay similar_dist similar #> 1 A1           4     2         2            5   FALSE #> 2 B1           3     3         2            5   FALSE #> 3 C1           4     4         3            6   FALSE #> 4 D1           4     4         3            6   FALSE #> 5 E1           3     4         1            5   FALSE #> 6 F1           3     3         1            4   FALSE  # inspect distances using agglomerative clustering+dendrogram d <- cluster::agnes(s[, 5, drop = FALSE], method=\"gaverage\") d$height <- d$height + 0.2 # fudge factor for 0-distance plot(stats::as.dendrogram(d), center=TRUE, type=\"triangle\")   # allow relative contrast ratings to be negative # (i.e. ordinal factors, concept of \"limiting\") # absolute value is still used for \"similar\" threshold s2 <- similar_soils(x, m, absolute=FALSE) #> comparing to dominant reference condition (`7.3.1` on 6 rows)  # inspect distances unsing agglomerative clustering+dendrogram d2 <- cluster::agnes(s2[, 5, drop = FALSE], method=\"gaverage\") d2$height <- d2$height + 0.2 # fudge factor for 0-distance plot(stats::as.dendrogram(d2), center=TRUE, type=\"triangle\")"}]
